<!DOCTYPE html>
<html>
    <head>
			<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="css/materialize.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/jquery-ui/jquery-ui.min.css">
        <link rel="stylesheet" type="text/css" href="assets/jquery-ui/themes/smoothness/jquery-ui.css">
        <link rel="stylesheet" type="text/css" href="assets/font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="assets/primeui/production/primeui-2.1-min.css" />
        <link rel="stylesheet" type="text/css" href="assets/primeui/themes/smoothness/theme.css" />
		<script src="jquery.min.js"></script>
				<script src="js/materialize.min.js"></script>	
	<script>
			$(document).ready(function(){
							var month = new Array("", "ม.ค." , "ก.พ.", "มี.ค.", "เม.ย.", "พ.ค.", "มิ.ย.", "ก.ค.", "ส.ค.", "ก.ย.", "ต.ค.", "พ.ย.", "ธ.ค.");
			
			$('select').material_select();
			
				$(document).on("click", ".mailitem", function(){
					$(".mailitem").removeClass("yellow lighten-1");
					$(this).addClass("yellow");
				});
			
			
				// DATE VALIDATION
				$("#date1").blur(function(){
				var getdate = $("#date1").val().split("/");
				var now = new Date();
				var today = now.getDate();
				var thismonth = now.getMonth()+1;
				var thisyear = now.getYear(); if (thisyear<2500) {thisyear+=543;}
				
				var newstrdate = "";
				if (getdate[0] > 31) {getdate[0] = 31;}
				if (getdate[1] > 12) {getdate[1] = 12;}
				if (getdate[0]) {newstrdate+=getdate[0]+" ";}else{newstrdate+=today+" ";}
				if (getdate[1]) {newstrdate+=month[getdate[1]] + " ";}else{newstrdate+=month[thismonth] + " ";}
				if (getdate[2]) {
				      if (getdate[2] < 25) {getdate[2]=2543+parseInt(getdate[2]);}
					  if (getdate[2] > 25 && getdate[2] < 99) {getdate[2]=2500+parseInt(getdate[2]);}
					  if (getdate[2] < 2100) {getdate[2]=543+parseInt(getdate[2]);}
					  newstrdate+=getdate[2];
					  }else{
					  if (parseInt(thisyear) < 2500) {newstrdate+=1900+parseInt(thisyear);}
					  if (parseInt(thisyear) >= 2500) {newstrdate+=1900+parseInt(thisyear);}
					  }
				// กรณีใส่มาติดกันไม่มีคั่น
				if ($("#date1").val().length == 8 && !isNaN($("#date1").val())) {
					alert("Number!");
					var data1 = parseInt($("#date1").val().substr(0,2));
					var data2 = parseInt($("#date1").val().substr(2,2));
					var data3 = parseInt($("#date1").val().substr(4,4));
					if (data3 < 2500) {data3+=543;}
					newstrdate = data1 + " " + month[data2] + " " + data3;
				}
				$("#date1").val(newstrdate);
				Materialize.updateTextFields();
			});
		
			$("#date1").focus(function(){
				if ($("#date1").val()){
					var getdate = $("#date1").val().split(" ");
					var newstrdate = "";
					newstrdate+=getdate[0]+"/";
					switch(getdate[1]) {
					case "ม.ค." : getdate[1]="1";break;
					case "ก.พ." : getdate[1]="2";break;
					case "มี.ค." : getdate[1]="3";break;
					case "เม.ย." : getdate[1]="4";break;
					case "พ.ค." : getdate[1]="5";break;
					case "มิ.ย." : getdate[1]="6";break;
					case "ก.ค." : getdate[1]="7";break;
					case "ส.ค." : getdate[1]="8";break;
					case "ก.ย." : getdate[1]="9";break;
					case "ต.ค." : getdate[1]="10";break;
					case "พ.ย." : getdate[1]="11";break;
					case "ธ.ค." : getdate[1]="12";break;
					}
					newstrdate+=getdate[1]+"/";		
					newstrdate+=getdate[2];
					$("#date1").val(newstrdate);
					Materialize.updateTextFields();
				}
			});
			$('#date1').bind('keypress', function(e) {			
						var k = e.which;
						var ok = k == 8 || k == 47 || // a-z, / , bspc
								k >= 48 && k <= 57; // 0-9
						if (!ok){
							e.preventDefault();
						}
			}); 			
			
			
			
			
			// DATE VALIDATION
				$("#date2").blur(function(){
				var getdate = $("#date2").val().split("/");
				var now = new Date();
				var today = now.getDate();
				var thismonth = now.getMonth()+1;
				var thisyear = now.getYear(); if (thisyear<2500) {thisyear+=543;}
				
				var newstrdate = "";
				if (getdate[0] > 31) {getdate[0] = 31;}
				if (getdate[1] > 12) {getdate[1] = 12;}
				if (getdate[0]) {newstrdate+=getdate[0]+" ";}else{newstrdate+=today+" ";}
				if (getdate[1]) {newstrdate+=month[getdate[1]] + " ";}else{newstrdate+=month[thismonth] + " ";}
				if (getdate[2]) {
				      if (getdate[2] < 25) {getdate[2]=2543+parseInt(getdate[2]);}
					  if (getdate[2] > 25 && getdate[2] < 99) {getdate[2]=2500+parseInt(getdate[2]);}
					  if (getdate[2] < 2100) {getdate[2]=543+parseInt(getdate[2]);}
					  newstrdate+=getdate[2];
					  }else{
					  if (parseInt(thisyear) < 2500) {newstrdate+=1900+parseInt(thisyear);}
					  if (parseInt(thisyear) >= 2500) {newstrdate+=1900+parseInt(thisyear);}
					  }
				// กรณีใส่มาติดกันไม่มีคั่น
				if ($("#date2").val().length == 8 && !isNaN($("#date2").val())) {
					var data1 = parseInt($("#date2").val().substr(0,2));
					var data2 = parseInt($("#date2").val().substr(2,2));
					var data3 = parseInt($("#date2").val().substr(4,4));
					if (data3 < 2500) {data3+=543;}
					newstrdate = data1 + " " + month[data2] + " " + data3;
				}
				$("#date2").val(newstrdate);
				Materialize.updateTextFields();
			});
		
			$("#date2").focus(function(){
				if ($("#date2").val()){
					var getdate = $("#date2").val().split(" ");
					var newstrdate = "";
					newstrdate+=getdate[0]+"/";
					switch(getdate[1]) {
					case "ม.ค." : getdate[1]="1";break;
					case "ก.พ." : getdate[1]="2";break;
					case "มี.ค." : getdate[1]="3";break;
					case "เม.ย." : getdate[1]="4";break;
					case "พ.ค." : getdate[1]="5";break;
					case "มิ.ย." : getdate[1]="6";break;
					case "ก.ค." : getdate[1]="7";break;
					case "ส.ค." : getdate[1]="8";break;
					case "ก.ย." : getdate[1]="9";break;
					case "ต.ค." : getdate[1]="10";break;
					case "พ.ย." : getdate[1]="11";break;
					case "ธ.ค." : getdate[1]="12";break;
					}
					newstrdate+=getdate[1]+"/";		
					newstrdate+=getdate[2];
					$("#date2").val(newstrdate);
					Materialize.updateTextFields();
				}
			});
			$('#date2').bind('keypress', function(e) {			
						var k = e.which;
						var ok = k == 8 || k == 47 || // a-z, / , bspc
								k >= 48 && k <= 57; // 0-9
						if (!ok){
							e.preventDefault();
						}
			}); 	



// DATE VALIDATION
				$("#date3").blur(function(){
				var getdate = $("#date3").val().split("/");
				var now = new Date();
				var today = now.getDate();
				var thismonth = now.getMonth()+1;
				var thisyear = now.getYear(); if (thisyear<2500) {thisyear+=543;}
				
				var newstrdate = "";
				if (getdate[0] > 31) {getdate[0] = 31;}
				if (getdate[1] > 12) {getdate[1] = 12;}
				if (getdate[0]) {newstrdate+=getdate[0]+" ";}else{newstrdate+=today+" ";}
				if (getdate[1]) {newstrdate+=month[getdate[1]] + " ";}else{newstrdate+=month[thismonth] + " ";}
				if (getdate[2]) {
				      if (getdate[2] < 25) {getdate[2]=2543+parseInt(getdate[2]);}
					  if (getdate[2] > 25 && getdate[2] < 99) {getdate[2]=2500+parseInt(getdate[2]);}
					  if (getdate[2] < 2100) {getdate[2]=543+parseInt(getdate[2]);}
					  newstrdate+=getdate[2];
					  }else{
					  if (parseInt(thisyear) < 2500) {newstrdate+=1900+parseInt(thisyear);}
					  if (parseInt(thisyear) >= 2500) {newstrdate+=1900+parseInt(thisyear);}
					  }
				// กรณีใส่มาติดกันไม่มีคั่น
				if ($("#date3").val().length == 8 && !isNaN($("#date3").val())) {
					var data1 = parseInt($("#date3").val().substr(0,2));
					var data2 = parseInt($("#date3").val().substr(2,2));
					var data3 = parseInt($("#date3").val().substr(4,4));
					if (data3 < 2500) {data3+=543;}
					newstrdate = data1 + " " + month[data2] + " " + data3;
				}
				$("#date3").val(newstrdate);
				Materialize.updateTextFields();
			});
		
			$("#date3").focus(function(){
				if ($("#date3").val()){
					var getdate = $("#date3").val().split(" ");
					var newstrdate = "";
					newstrdate+=getdate[0]+"/";
					switch(getdate[1]) {
					case "ม.ค." : getdate[1]="1";break;
					case "ก.พ." : getdate[1]="2";break;
					case "มี.ค." : getdate[1]="3";break;
					case "เม.ย." : getdate[1]="4";break;
					case "พ.ค." : getdate[1]="5";break;
					case "มิ.ย." : getdate[1]="6";break;
					case "ก.ค." : getdate[1]="7";break;
					case "ส.ค." : getdate[1]="8";break;
					case "ก.ย." : getdate[1]="9";break;
					case "ต.ค." : getdate[1]="10";break;
					case "พ.ย." : getdate[1]="11";break;
					case "ธ.ค." : getdate[1]="12";break;
					}
					newstrdate+=getdate[1]+"/";		
					newstrdate+=getdate[2];
					$("#date3").val(newstrdate);
					Materialize.updateTextFields();
				}
			});
			$('#date3').bind('keypress', function(e) {			
						var k = e.which;
						var ok = k == 8 || k == 47 || // a-z, / , bspc
								k >= 48 && k <= 57; // 0-9
						if (!ok){
							e.preventDefault();
						}
			}); 						
			
			
			
			
			
			// DATE VALIDATION
				$("#sign_dth").blur(function(){
				var getdate = $("#sign_dth").val().split("/");
				var now = new Date();
				var today = now.getDate();
				var thismonth = now.getMonth()+1;
				var thisyear = now.getYear(); if (thisyear<2500) {thisyear+=543;}
				
				var newstrdate = "";
				if (getdate[0] > 31) {getdate[0] = 31;}
				if (getdate[1] > 12) {getdate[1] = 12;}
				if (getdate[0]) {newstrdate+=getdate[0]+" ";}else{newstrdate+=today+" ";}
				if (getdate[1]) {newstrdate+=month[getdate[1]] + " ";}else{newstrdate+=month[thismonth] + " ";}
				if (getdate[2]) {
				      if (getdate[2] < 25) {getdate[2]=2543+parseInt(getdate[2]);}
					  if (getdate[2] > 25 && getdate[2] < 99) {getdate[2]=2500+parseInt(getdate[2]);}
					  if (getdate[2] < 2100) {getdate[2]=543+parseInt(getdate[2]);}
					  newstrdate+=getdate[2];
					  }else{
					  if (parseInt(thisyear) < 2500) {newstrdate+=1900+parseInt(thisyear);}
					  if (parseInt(thisyear) >= 2500) {newstrdate+=1900+parseInt(thisyear);}
					  }
				// กรณีใส่มาติดกันไม่มีคั่น
				if ($("#sign_dth").val().length == 8 && !isNaN($("#sign_dth").val())) {
					var data1 = parseInt($("#sign_dth").val().substr(0,2));
					var data2 = parseInt($("#sign_dth").val().substr(2,2));
					var data3 = parseInt($("#sign_dth").val().substr(4,4));
					if (data3 < 2500) {data3+=543;}
					newstrdate = data1 + " " + month[data2] + " " + data3;
				}
				$("#sign_dth").val(newstrdate);
				Materialize.updateTextFields();
			});
		
			$("#sign_dth").focus(function(){
				if ($("#sign_dth").val()){
					var getdate = $("#sign_dth").val().split(" ");
					var newstrdate = "";
					newstrdate+=getdate[0]+"/";
					switch(getdate[1]) {
					case "ม.ค." : getdate[1]="1";break;
					case "ก.พ." : getdate[1]="2";break;
					case "มี.ค." : getdate[1]="3";break;
					case "เม.ย." : getdate[1]="4";break;
					case "พ.ค." : getdate[1]="5";break;
					case "มิ.ย." : getdate[1]="6";break;
					case "ก.ค." : getdate[1]="7";break;
					case "ส.ค." : getdate[1]="8";break;
					case "ก.ย." : getdate[1]="9";break;
					case "ต.ค." : getdate[1]="10";break;
					case "พ.ย." : getdate[1]="11";break;
					case "ธ.ค." : getdate[1]="12";break;
					}
					newstrdate+=getdate[1]+"/";		
					newstrdate+=getdate[2];
					$("#sign_dth").val(newstrdate);
				}
			});
			$('#sign_dth').bind('keypress', function(e) {			
						var k = e.which;
						var ok = k == 8 || k == 47 || // a-z, / , bspc
								k >= 48 && k <= 57; // 0-9
						if (!ok){
							e.preventDefault();
						}
			}); 			
			
			
			
			
			
			$('#site_code').bind('keypress', function(e) {
//					if($('#point').val().length != 0){
						var k = e.which;
						var ok = k == 8 || k >= 65 && k <= 90 || // A-Z
								k >= 97 && k <= 122 || // a-z
								k >= 48 && k <= 57; // 0-9
						if (!ok){
							e.preventDefault();
						}else{}
//					}
			}); 
			$('#site_code').bind('keyup', function(e) {
					$(this).val($(this).val().toUpperCase());
			});
			
			
			});
	</script>
    </head>
    <body>
        <style>
            .UIboxborder{
                border:1px #999 solid; 
                padding:5px;
            }
			
					   .input-field label {
				 color: #333;
			   }
			   /* label focus color */
			   .input-field input[type=text]:focus + label {
				 color: #333;
			   }
        </style>
		
				<nav class="red lighten-2">
		 <a href="#" class="brand-logo"> &nbsp;NBCSys</a>
		 
		 <ul class="right hide-on-med-and-down">
          <li><a href="sass.html" class="btn grey">Logout</a></li>
		  </ul>
		  <div class="right">
		 &nbsp; ชื่อชื่อชื่อ นามสกุลนามสกุล
		  </div>
		 <div class="right-align ">
			<div class="valign-wrapper right">
				<img src="images/profile1.jpg" class="circle valign" style="width: 40px;">
			</div>
		  </div>
	</nav>
		
        <!--<div class="UIboxborder" id="">
           <table class="highlight">
               <th>Code</th><th>Applic date</th><th>Comm</th>
               <tr>
                   <td>NULL</td>
                   <td>NULL</td>
                   <td><input type="checkbox" name="" value=""></td>
               </tr>
           </table>
		   <div class="center-align">
           <button type="" class="btn green">Create</button> <button type=""  class="btn grey">Remove</button>
		   </div>
        </div>-->
		
		<p class="blue-text text-darken-2 center-align" style="padding: 5px;">
		NBC Donor No. 1008324121. Miss บุญพร ปิยมาศ
		</p><br>
		

        
		<div class="row">

		<div class="col s4 input-field right-align">
			
			<select id="typemail">
				<option></option>
			</select>
			<label for="typemail">Type of Mail</label>
		</div>
		
        <div class="col s12" style="height: 200px; overflow-y: scroll;">
            <table class="highlight">
                <th>Date of creation</th><th>Date of deliverly</th><th>Reference</th><th>Sample number</th><th>Recipient</th>
                <tr class="mailitem">
                    <td>NULL</td><td>NULL</td><td></td><td>NULL</td><td>NULL</td>
                </tr>
                <tr class="mailitem">
                    <td>NULL</td><td>NULL</td><td></td><td>NULL</td><td>NULL</td>
                </tr>
            </table>
		</div>
</div>			
			
			
	<div class="row" style="border: solid 1px #333;padding: 8px;margin: 5px;">
	<h5>Details</h5>	
		<div class="col m6" >
		
		
			
		
			<div class="input-field col s12">
            <label for="">Site</label><input class="" type="text" id="site_code" name="site_code" value="" maxlength="4"  readonly>
			</div>
            
			<div class="input-field col s12">
			<label for="">Doctor</label><input class="" type="text" name="" value=""  readonly>
			</div>
            
			<div class="input-field col s12">
			<label for="">Recipient</label><input class="" type="text" id="recipients" name="recipients" value=""  readonly>
			</div>
        
			<div class="input-field col s12">
			&nbsp;
			</div>
		
			<div class="input-field col s12">
			<label for="">Signatory</label><input class="" type="text" id="" name="" value=""  readonly>
			</div>
            
			<div class="input-field col s12">
			<label for="">Signature date</label><input class="" type="text" id="sign_dth" name="sign_dth" value="01-Apr-2016 11:11:11" active  readonly></textarea>
			</div>
		</div>
			
			
		<div class="col m6">
			<div class="input-field col s12">
            <label for="date1" active>Date of follow-up</label><input class="" id="date1" type="text" name="" value="" active  readonly>
			</div>
            
			<div class="input-field col s12">
			<label for="date2" active>Date of follow-up</label><input class="" id="date2" type="text" name="" value="" active  readonly>
			</div>
            
			<div class="input-field col s12">
			<label for="date3" active>Date of the response</label><input class=""  id="date3" type="text" name="" value="" readonly>
			</div>
            
			<div class="input-field col s12">
			<select id="responsemode" >
				<option>Fax</option>
				<option>Letter</option>
				<option>Telephone</option>
			</select>
			<label for="responsemode">Response Mode</label>
			</div>
            
			<div class="input-field col s12">
			<label for="">Authur</label><input type="text" id="author" name="author" value=""  readonly><br>
			</div>
            
		<div class="input-field col s12">
            <textarea id="textarea1" class="materialize-textarea" length="100" ></textarea>
            <label for="textarea1">Response</label>
          </div>
        </div>
		
		</div>
		
			<footer class="page-footer red lighten-2">
			<div class="container">
			<div class="row center-align ">
                <div class="col s6 m3"><button type="" class="btn green darken-2">Save</button></div>
                <div class="col s6 m3"><button type="" class="btn grey">New mail</button></div>
                
                <div class="col s6 m3"><button type="" class="btn grey">OK</button></div>
                <div class="col s6 m3"><button type="" class="btn grey">Abort</button></div>
			</div>
			</div>
	<div class="footer-copyright">
            <div class="container">
            <p>© 2016 สงวนลิขสิทธิ์โดย ศูนย์บริการโลหิตแห่งชาติ สภากาชาดไทย เลขที่ 1871 ถ.อังรีดูนังต์ ปทุมวัน กรุงเทพฯ 10330</p><br>
			<p>© 2016 Copyright by National Blood Centre, The Thai Red Cross Society 1871 Henry Dunant Rd., Patumwan Bangkok, 10330</p>
			</div>
			</div>
		</footer>
		


    </body>
</html>
